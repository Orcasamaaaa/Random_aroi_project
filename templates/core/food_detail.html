{% extends 'core/base.html' %}
{% load static %}

{% block main %}
<div class="container mx-auto py-12 px-6">
    <div class="max-w-2xl mx-auto bg-white shadow-lg rounded-lg overflow-hidden border border-gray-200">
        <!-- ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£ -->
        <div class="h-64 w-full bg-gray-100 flex items-center justify-center">
            {% if food.image %}
                <img src="{{ food.image.url }}" alt="{{ food.name }}" class="w-full h-full object-cover">
            {% else %}
                <span class="text-gray-500">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</span>
            {% endif %}
        </div>
        <div class="p-6 text-center">
            <!-- ‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏´‡∏≤‡∏£ -->
            <h2 class="text-3xl font-bold text-orange-600 mb-2">{{ food.name }}</h2>
            <p class="text-gray-700 text-md mb-4">{{ food.description }}</p>
            <p class="text-lg font-semibold text-gray-800">üí∞ ‡∏£‡∏≤‡∏Ñ‡∏≤: {{ food.price }} ‡∏ö‡∏≤‡∏ó</p>

            <!-- ‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏£‡πâ‡∏≤‡∏ô‡πÑ‡∏´‡∏ô -->
            <p class="text-md text-gray-600 mt-2">
                üè† ‡∏£‡πâ‡∏≤‡∏ô:
                <a href="{% url 'restaurant_detail' food.restaurant.id %}" class="text-blue-500 hover:underline">
                    {{ food.restaurant.name }}
                </a>
            </p>

            <!-- ‚≠ê ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô -->
            <p class="text-md text-gray-600 mt-2">
                ‚≠ê ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢:
                {% if food.restaurant.review_set.exists %}
                    {{ food.restaurant.review_set.aggregate_avg.rating|floatformat:1 }}/5
                {% else %}
                    <span class="text-gray-500">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏µ‡∏ß‡∏¥‡∏ß</span>
                {% endif %}
            </p>

            <!-- ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏≠‡∏≤‡∏´‡∏≤‡∏£ -->
            {% if food.category.all %}
            <p class="text-gray-700 text-md mt-2">
                üçΩÔ∏è ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó:
                {% for cat in food.category.all %}
                    {{ cat.name }}{% if not forloop.last %}, {% endif %}
                {% endfor %}
            </p>
            {% endif %}

            <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏•‡∏±‡∏ö -->
            <div class="mt-6">
                <a href="{% url 'food_list' %}" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg shadow-lg font-semibold">
                    üîô ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
