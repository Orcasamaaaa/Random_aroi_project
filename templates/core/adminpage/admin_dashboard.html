{% extends 'core/base.html' %}

{% block main %}
<div class="container mx-auto py-10 px-4">
    <div class="bg-white shadow-lg rounded-lg p-6">
        <h1 class="text-3xl font-bold text-gray-800 mb-6">Dashboard Admin</h1>
        <p>‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏Ç‡∏≠‡∏á‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô!</p>

        <h2 class="text-xl font-semibold text-gray-700 mt-6 mb-4">‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö</h2>
        <ul class="list-disc pl-6">
            <li><a href="{% url 'manage_users' %}" class="text-blue-500 hover:text-blue-700">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</a></li>
            <li><a href="{% url 'manage_restaurants' %}" class="text-blue-500 hover:text-blue-700">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£</a></li>
            <li><a href="{% url 'manage_forums' %}" class="text-blue-500 hover:text-blue-700">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏π‡πâ</a></li>
        </ul>
    </div>
</div>

<!-- ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏ó‡πà‡∏á‡πÄ‡∏î‡∏¥‡∏° -->
<div id="chart"></div>

<!-- ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏£‡∏≤‡∏ü Feedback (Pie Chart) -->
<div id="feedbackChart" class="mt-8"></div>

<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
<script>
    // ‚úÖ ‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏ó‡πà‡∏á (‡πÄ‡∏î‡∏¥‡∏°)
    var options = {
        chart: {
            type: 'bar'
        },
        series: [{
            name: '‡∏à‡∏≥‡∏ô‡∏ß‡∏ô',
            data: [
                {{ total_users }},
                {{ total_restaurants }},
                {{ total_forums }}
            ]
        }],
        xaxis: {
            categories: ['‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ', '‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£', '‡∏Å‡∏£‡∏∞‡∏ó‡∏π‡πâ']
        }
    };
    var chart = new ApexCharts(document.querySelector("#chart"), options);
    chart.render();

    // ‚úÖ ‡∏Å‡∏£‡∏≤‡∏ü‡∏ß‡∏á‡∏Å‡∏•‡∏° (Pie Chart) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Feedback
    var feedbackOptions = {
        chart: {
            type: 'pie'
        },
        series: [{{ total_likes }}, {{ total_dislikes }}],
        labels: ['‡∏ä‡∏≠‡∏ö (üëç)', '‡πÑ‡∏°‡πà‡∏ä‡∏≠‡∏ö (üëé)'],
        colors: ['#28a745', '#dc3545']
    };
    var feedbackChart = new ApexCharts(document.querySelector("#feedbackChart"), feedbackOptions);
    feedbackChart.render();
</script>
{% endblock %}
